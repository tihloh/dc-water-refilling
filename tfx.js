 function previewImgFile(input){ previewImgFile2(input,$(input).siblings('img')); } function previewImgFile2(input,previewImg){ var file = $("input[type=file]").get(0).files[0]; if(file){ var reader = new FileReader(); reader.onload = function(){ $(previewImg).attr("src", reader.result); } reader.readAsDataURL(file); } } $(function(){ $(".submitonchange").change(function() { this.form.submit(); }); });